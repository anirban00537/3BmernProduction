{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\kaj\\\\nodejs\\\\3Bmern\\\\client\\\\src\\\\admin\\\\dashboard\\\\PortfolioAdmin.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Navbar from \"./Navbar\";\nimport FileBase from \"react-file-base64\";\nimport \"./dashboard.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { fetchPortfolio, createPortfolio } from \"../../Api/index\";\nimport { useState, useEffect } from \"react\";\nimport Loader from \"../../Loader\";\n\nconst PortfolioAdmin = () => {\n  _s();\n\n  const history = useHistory();\n  const [load, setLoad] = useState(0);\n  const [portfolioData, setPortfolioData] = useState({\n    title: \"\",\n    photo: \"\"\n  });\n\n  function checkuser() {\n    const user = JSON.parse(localStorage.getItem(\"users\"));\n    const token = localStorage.getItem(\"jwtauth\");\n\n    if (!token) {\n      history.push(\"/login\");\n    }\n  }\n\n  const onload = async () => {\n    const {\n      data\n    } = await fetchPortfolio();\n    console.log(data, \"portfol\");\n  };\n\n  useEffect(async () => {\n    const boole = await fetchPortfolio();\n\n    if (boole.data[0].title1) {\n      setLoad(1);\n    }\n\n    checkuser();\n    onload();\n  }, []);\n\n  const handleSubmit = e => {\n    const formData = new FormData();\n    formData.append(\"photo\", portfolioData.title);\n    formData.append(\"birthdate\", portfolioData.photo);\n    createPortfolio(formData);\n  };\n\n  const handleChange = e => {\n    setPortfolioData({ ...portfolioData,\n      name: e.target.value\n    });\n  };\n\n  const handlePhoto = e => {\n    setPortfolioData({ ...portfolioData,\n      photo: e.target.files[0]\n    });\n    console.log(portfolioData.photo);\n  };\n\n  return load === 0 ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container container_bottom\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Set Your Projects Here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        encType: \"multipart/form-data\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".png, .jpg, .jpeg\",\n          name: \"photo\",\n          onChange: handlePhoto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"name\",\n          name: \"title\",\n          value: newUser.name,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PortfolioAdmin, \"iyltd03nlyYBAkfd/Xk4gd2JU60=\", false, function () {\n  return [useHistory];\n});\n\n_c = PortfolioAdmin;\nexport default PortfolioAdmin;\n\nvar _c;\n\n$RefreshReg$(_c, \"PortfolioAdmin\");","map":{"version":3,"sources":["C:/kaj/nodejs/3Bmern/client/src/admin/dashboard/PortfolioAdmin.js"],"names":["React","Navbar","FileBase","useHistory","fetchPortfolio","createPortfolio","useState","useEffect","Loader","PortfolioAdmin","history","load","setLoad","portfolioData","setPortfolioData","title","photo","checkuser","user","JSON","parse","localStorage","getItem","token","push","onload","data","console","log","boole","title1","handleSubmit","e","formData","FormData","append","handleChange","name","target","value","handlePhoto","files","newUser"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport FileBase from \"react-file-base64\";\r\nimport \"./dashboard.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { fetchPortfolio, createPortfolio } from \"../../Api/index\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Loader from \"../../Loader\";\r\n\r\nconst PortfolioAdmin = () => {\r\n  const history = useHistory();\r\n  const [load, setLoad] = useState(0);\r\n  const [portfolioData, setPortfolioData] = useState({\r\n    title: \"\",\r\n    photo: \"\",\r\n  });\r\n\r\n  function checkuser() {\r\n    const user = JSON.parse(localStorage.getItem(\"users\"));\r\n    const token = localStorage.getItem(\"jwtauth\");\r\n    if (!token) {\r\n      history.push(\"/login\");\r\n    }\r\n  }\r\n  const onload = async () => {\r\n    const { data } = await fetchPortfolio();\r\n    console.log(data, \"portfol\");\r\n  };\r\n  useEffect(async () => {\r\n    const boole = await fetchPortfolio();\r\n    if (boole.data[0].title1) {\r\n      setLoad(1);\r\n    }\r\n    checkuser();\r\n    onload();\r\n  }, []);\r\n  const handleSubmit = (e) => {\r\n    const formData = new FormData();\r\n    formData.append(\"photo\", portfolioData.title);\r\n    formData.append(\"birthdate\", portfolioData.photo);\r\n    createPortfolio(formData);\r\n  };\r\n  const handleChange = (e) => {\r\n    setPortfolioData({ ...portfolioData, name: e.target.value });\r\n  };\r\n\r\n  const handlePhoto = (e) => {\r\n    setPortfolioData({ ...portfolioData, photo: e.target.files[0] });\r\n    console.log(portfolioData.photo);\r\n  };\r\n  return load === 0 ? (\r\n    <Loader />\r\n  ) : (\r\n    <div>\r\n      <Navbar />\r\n      <div class=\"container container_bottom\">\r\n        <h2>Set Your Projects Here</h2>\r\n\r\n        <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\r\n          <input\r\n            type=\"file\"\r\n            accept=\".png, .jpg, .jpeg\"\r\n            name=\"photo\"\r\n            onChange={handlePhoto}\r\n          />\r\n\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"name\"\r\n            name=\"title\"\r\n            value={newUser.name}\r\n            onChange={handleChange}\r\n          />\r\n\r\n          <input type=\"submit\" />\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PortfolioAdmin;\r\n"]},"metadata":{},"sourceType":"module"}