{"ast":null,"code":"import _objectSpread from\"C:/kaj/nodejs/3Bmern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"C:/kaj/nodejs/3Bmern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/kaj/nodejs/3Bmern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/kaj/nodejs/3Bmern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import Navbar from\"./Navbar\";import FileBase from\"react-file-base64\";import\"./dashboard.css\";import{useHistory}from\"react-router-dom\";import{fetchPortfolio,createPortfolio,deletePortfolio}from\"../../Api/index\";import{useState,useEffect}from\"react\";import Loader from\"../../Loader\";var PortfolioAdmin=function PortfolioAdmin(){var history=useHistory();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),load=_useState2[0],setLoad=_useState2[1];var _useState3=useState({title:\"\",photo:\"\",description:\"\"}),_useState4=_slicedToArray(_useState3,2),portfolioData=_useState4[0],setPortfolioData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),Portfol=_useState6[0],setPortfol=_useState6[1];function checkuser(){var token=localStorage.getItem(\"jwtauth\");if(!token){history.push(\"/login\");}}var onload=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$fetchPortfolio,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchPortfolio();case 2:_yield$fetchPortfolio=_context.sent;data=_yield$fetchPortfolio.data;setPortfol(data);console.log(Portfol,\"Portfol\");case 6:case\"end\":return _context.stop();}}},_callee);}));return function onload(){return _ref.apply(this,arguments);};}();useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var boole;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchPortfolio();case 2:boole=_context2.sent;if(boole.data){setLoad(1);}checkuser();onload();case 6:case\"end\":return _context2.stop();}}},_callee2);})),[]);var handleSubmit=function handleSubmit(e){createPortfolio(portfolioData);};return load===0?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:Portfol.map(function(s){return/*#__PURE__*/_jsx(\"div\",{class:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col p-4 d-flex flex-column position-static\",children:[/*#__PURE__*/_jsx(\"strong\",{class:\"d-inline-block mb-2 text-primary\",children:s.title}),/*#__PURE__*/_jsx(\"p\",{class:\"card-text mb-auto\",children:s.description},s._id),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-danger btn-sm\",onClick:function onClick(){deletePortfolio(s._id);},children:\"Delete\"})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-auto d-none d-lg-block\",children:/*#__PURE__*/_jsx(\"img\",{class:\"bd-placeholder-img\",width:\"200\",height:\"250\",src:s.photo,preserveAspectRatio:\"xMidYMid slice\",focusable:\"false\",role:\"img\",\"aria-label\":\"Placeholder: Thumbnail\"})})]})});})})}),/*#__PURE__*/_jsxs(\"div\",{class:\"container container_bottom\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Set Your Projects Here\"}),/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",noValidate:true,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col-sm card port_margin\",children:[/*#__PURE__*/_jsx(\"img\",{src:portfolioData.photo,class:\"img-responsive\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm pro\",children:/*#__PURE__*/_jsx(FileBase,{type:\"file\",multipla:false,onDone:function onDone(_ref3){var base64=_ref3.base64;return setPortfolioData(_objectSpread(_objectSpread({},portfolioData),{},{photo:base64}));}})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",placeholder:\"Titile of your project\",\"aria-label\":\"Sizing example input\",\"aria-describedby\":\"inputGroup-sizing-sm\",value:portfolioData.title,onChange:function onChange(e){setPortfolioData(_objectSpread(_objectSpread({},portfolioData),{},{title:e.target.value}));}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",placeholder:\"Titile of your project\",\"aria-label\":\"Sizing example input\",\"aria-describedby\":\"inputGroup-sizing-sm\",value:portfolioData.description,onChange:function onChange(e){setPortfolioData(_objectSpread(_objectSpread({},portfolioData),{},{description:e.target.value}));}})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm  button_submit\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-secondary btn-lg button_submit_b\",children:\"Set\"})})]})]})]});};export default PortfolioAdmin;","map":{"version":3,"sources":["C:/kaj/nodejs/3Bmern/client/src/admin/dashboard/PortfolioAdmin.js"],"names":["React","Navbar","FileBase","useHistory","fetchPortfolio","createPortfolio","deletePortfolio","useState","useEffect","Loader","PortfolioAdmin","history","load","setLoad","title","photo","description","portfolioData","setPortfolioData","Portfol","setPortfol","checkuser","token","localStorage","getItem","push","onload","data","console","log","boole","handleSubmit","e","map","s","_id","base64","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Navbar from \"./Navbar\";\r\nimport FileBase from \"react-file-base64\";\r\nimport \"./dashboard.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport {\r\n  fetchPortfolio,\r\n  createPortfolio,\r\n  deletePortfolio,\r\n} from \"../../Api/index\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Loader from \"../../Loader\";\r\n\r\nconst PortfolioAdmin = () => {\r\n  const history = useHistory();\r\n  const [load, setLoad] = useState(0);\r\n  const [portfolioData, setPortfolioData] = useState({\r\n    title: \"\",\r\n    photo: \"\",\r\n    description: \"\",\r\n  });\r\n\r\n  const [Portfol, setPortfol] = useState([]);\r\n\r\n  function checkuser() {\r\n    const token = localStorage.getItem(\"jwtauth\");\r\n    if (!token) {\r\n      history.push(\"/login\");\r\n    }\r\n  }\r\n  const onload = async () => {\r\n    const { data } = await fetchPortfolio();\r\n    setPortfol(data);\r\n    console.log(Portfol, \"Portfol\");\r\n  };\r\n  useEffect(async () => {\r\n    const boole = await fetchPortfolio();\r\n    if (boole.data) {\r\n      setLoad(1);\r\n    }\r\n    checkuser();\r\n    onload();\r\n  }, []);\r\n  const handleSubmit = (e) => {\r\n    createPortfolio(portfolioData);\r\n  };\r\n  return load === 0 ? (\r\n    <Loader />\r\n  ) : (\r\n    <div>\r\n      <Navbar />\r\n\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {Portfol.map((s) => (\r\n            <div class=\"col-md-6\">\r\n              <div class=\"row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative\">\r\n                <div class=\"col p-4 d-flex flex-column position-static\">\r\n                  <strong class=\"d-inline-block mb-2 text-primary\">\r\n                    {s.title}\r\n                  </strong>\r\n\r\n                  <p class=\"card-text mb-auto\" key={s._id}>\r\n                    {s.description}\r\n                  </p>\r\n                  <form>\r\n                    <button\r\n                      type=\"submit\"\r\n                      class=\"btn btn-danger btn-sm\"\r\n                      onClick={() => {\r\n                        deletePortfolio(s._id);\r\n                      }}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n                <div class=\"col-auto d-none d-lg-block\">\r\n                  <img\r\n                    class=\"bd-placeholder-img\"\r\n                    width=\"200\"\r\n                    height=\"250\"\r\n                    src={s.photo}\r\n                    preserveAspectRatio=\"xMidYMid slice\"\r\n                    focusable=\"false\"\r\n                    role=\"img\"\r\n                    aria-label=\"Placeholder: Thumbnail\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          {/* === */}\r\n        </div>\r\n      </div>\r\n      <div class=\"container container_bottom\">\r\n        <h2>Set Your Projects Here</h2>\r\n\r\n        <form autoComplete=\"off\" noValidate onSubmit={handleSubmit}>\r\n          <div class=\"col-sm card port_margin\">\r\n            <img src={portfolioData.photo} class=\"img-responsive\" />\r\n            <div class=\"col-sm pro\">\r\n              <FileBase\r\n                type=\"file\"\r\n                multipla={false}\r\n                onDone={({ base64 }) =>\r\n                  setPortfolioData({ ...portfolioData, photo: base64 })\r\n                }\r\n              />\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Titile of your project\"\r\n              aria-label=\"Sizing example input\"\r\n              aria-describedby=\"inputGroup-sizing-sm\"\r\n              value={portfolioData.title}\r\n              onChange={(e) => {\r\n                setPortfolioData({\r\n                  ...portfolioData,\r\n                  title: e.target.value,\r\n                });\r\n              }}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Titile of your project\"\r\n              aria-label=\"Sizing example input\"\r\n              aria-describedby=\"inputGroup-sizing-sm\"\r\n              value={portfolioData.description}\r\n              onChange={(e) => {\r\n                setPortfolioData({\r\n                  ...portfolioData,\r\n                  description: e.target.value,\r\n                });\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div class=\"col-sm  button_submit\">\r\n            <button\r\n              type=\"submit\"\r\n              class=\"btn btn-secondary btn-lg button_submit_b\"\r\n            >\r\n              Set\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PortfolioAdmin;\r\n"]},"metadata":{},"sourceType":"module"}